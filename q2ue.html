<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TARGET UPSC - FOR MEG</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-image: url('https://img.etimg.com/thumb/msid-96036887,width-300,height-225,imgsize-34444,resizemode-75/upsc.jpg');
        background-size: cover;
        background-repeat: no-repeat;
    }
    #chat-container {
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 10px;
        background-color: rgba(255, 255, 255, 0.8); /* Add a semi-transparent white background */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .message {
        margin-bottom: 10px;
    }
    .user-message {
        color: blue;
        text-align: right;
    }
    .bot-message {
        color: black;
    }
    .options {
        color: #666;
        padding-left: 20px;
    }
    .correct-answer {
        color: green;
    }
    .wrong-answer {
        color: red;
    }
    #score {
        text-align: center;
        margin-bottom: 20px;
        font-weight: bold;
        transition: background-color 0.3s;
    }
    #score.highlight {
        background-color: yellow;
    }
    #header {
        text-align: center;
        font-size: 24px;
        margin-bottom: 20px;
    }
    input[type="text"] {
        width: calc(100% - 70px);
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
    }
    button {
        width: 150px; /* Adjusted button width */
        padding: 10px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }
</style>
</head>
<body>

<H1 id="header" style="color: white;">TARGET UPSC - FOR MEG</div>

<div id="score" style="color: white;">Score: 0/10</div>

<div id="chat-container">
    <div id="chat-box"></div>
    <input type="text" id="user-input" placeholder="Enter your answer">
    <button onclick="sendResponse()">Send</button>
</div>

<script>
    var questions = [
        {
            question: "In essence, what does â€˜Due Process of Law' mean?",
            options: ["The principle of natural justice", "The procedure established by law", "Fair application of law", "Equality before law"],
            answer: "c"
        },
        {
            question: "Consider the following statements:<br>Statement-I: In India, prisons are managed by State Governments with their own rules and regulations for the day-to-day administration of prisons.<br>Statement-II: In India, prisons are governed by the Prisons Act, 1894 which expressly kept the subject of prisons in the control of Provincial Governments.<br>Which one of the following is correct in respect of the above statements?",
            options: ["Both Statement-I and Statement-II are correct and Statement-II is the correct explanation for Statement-I", "Both Statement-I and Statement-II are correct and Statement-II is not the correct explanation for Statement-I", "Statement-I is correct but Statement-II is incorrect", "Statement-I is incorrect but Statement-II is correct"],
            answer: "a"
        },
        {
            question: "Which one of the following statements best reflects the Chief purpose of the 'Constitution' of a country?",
            options: ["It determines the objective for the making of necessary laws.", "It enables the creation of political offices and a government.", "It defines and limits the powers of government.", "It secures social justice, social equality and social security"],
            answer: "c"
        }
    ];

    var currentQuestionIndex = 0;
    var chatBox = document.getElementById('chat-box');
    var scoreDisplay = document.getElementById('score');
    var score = 0;

    function shuffleArray(array) {
        for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }
        return array;
    }

    function displayBotMessage(message, className) {
        var messageElement = document.createElement('div');
        messageElement.innerHTML = message;
        messageElement.classList.add('message', 'bot-message', className);
        chatBox.appendChild(messageElement);
    }

    function displayUserMessage(message) {
        var messageElement = document.createElement('div');
        messageElement.textContent = message;
        messageElement.classList.add('message', 'user-message');
        chatBox.appendChild(messageElement);
    }

    function askQuestion() {
        var question = questions[currentQuestionIndex];
        displayBotMessage(question.question);

        // Display options without jumbling
        question.options.forEach(function(option, index) {
            displayBotMessage("<span class='options'>" + "(" + String.fromCharCode(97 + index) + ") " + option + "</span>");
        });
    }

    function sendResponse() {
        var userAnswer = document.getElementById('user-input').value.trim().toLowerCase();
        var question = questions[currentQuestionIndex];

        displayUserMessage(userAnswer);

        if (userAnswer === question.answer) {
            score++;
            scoreDisplay.textContent = "Score: " + score + "/10";
            scoreDisplay.classList.add('highlight');
            setTimeout(function() {
                scoreDisplay.classList.remove('highlight');
            }, 3000); // Remove highlight after 3 seconds
            displayBotMessage("Correct!<br><br>Next question:", 'correct-answer');
        } else {
            displayBotMessage("Wrong! The correct option is: " + question.options[question.answer.charCodeAt(0) - 97] + "<br><br>Next question:", 'wrong-answer');
        }

        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            askQuestion();
        } else {
            displayBotMessage("All questions answered! Final score: " + score + "/10");
            document.getElementById('user-input').style.display = 'none';
            document.querySelector('button').style.display = 'none';
        }

        document.getElementById('user-input').value = '';
    }

    askQuestion();

    function shareScore() {
        var scoreMessage = "My score in the chatbot quiz is: " + score + "/10. Play now!";
        var whatsappLink = "https://wa.me/919491376372?text=" + encodeURIComponent(scoreMessage);
        window.open(whatsappLink, "_blank");
}
</script>

<center>
<button onclick="shareScore()">Share Score on WhatsApp</button></center>
</body>
</html>
